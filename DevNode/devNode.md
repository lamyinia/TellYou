##### 开发中的问题和解决

###### 前端配置：

![image-20250702215009035](.\assets\image-20250702215009035.png)

npm create @quick-start/electron frontend

​	配置axios请求、各种css、代理、端口



[Netty,接收到一个请求，但是代码段执行了两次，为什么？-CSDN社区](https://bbs.csdn.net/topics/392009713)



###### 开发思路

先写后端的 netty 部分 -> 登录部分业务 -> 前端搭建 -> 联系人业务 -> 群组业务 -> Ai机器人

###### 数据库设计关键点：

- 改名机制(改名上限、重放机制)
- 封号处理
- ip 属地处理



###### 业务设计关键点：

消息可靠性(信箱机制、ack入库出库、重试机制)



消息时序性(前端发送带上时间戳)



多端同步(收信箱级别递增)



关系管理(单聊[拉黑、好友、特别好友、无状态]、多聊[群组、管理员、多聊黑名单])



消息类型(文本+emoji、表情、文件[语音信息]、红包、视频聊天、语音聊天、位置信息)



消息状态(发送中、已发送、未读、已读数目、点赞数目)

会话状态(特别关注、未读数目[上限99+条]、消息排序、room_id和create_time联合索引)



发红包、拆红包、过期红包退款



点赞系统(分布式锁)



发送控制



信息压缩



重连接机制

